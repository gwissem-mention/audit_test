{% trans_default_domain 'cdp_user' %}

<script type="text/javascript">
    $(document).ready(function() {
        new Directory();
    });
</script>

<h2>{{ 'group.tabs.members.title'|trans({}, 'cdp_group') }}</h2>

{% if ajoutMembreForm is not null %}
    <div class="communaute-de-pratiques-user-add">
        <div class="row">
            {{ form_start(ajoutMembreForm) }}
                <div class="column col-md-4 text-xs-center text-md-right">
                    Ajouter un membre : &nbsp;
                </div>
                <div class="column col-md-4">
                    {{ form_widget(ajoutMembreForm.user) }}
                </div>
                <div class="column col-md-4 text-xs-center text-md-left">
                    &nbsp; <button type="submit" class="btn btn-sm btn-success">Ajouter l'utilisateur</button>
                </div>
            {{ form_end(ajoutMembreForm) }}
        </div>
    </div>
{% endif %}

<div class="communaute-de-pratiques-annuaire cdp-directory">

    <div class="user-details modal fade" id="directory-user-details-modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            </div>
        </div>
    </div>

    <div class="directory">
        {% for user in members if user.isActifInGroupe(groupe) or canDeleteMembre or groupe.hasAnimateur(user) %}
            {{ include('@HopitalNumeriqueCommunautePratique/User/member_line.html.twig') }}
        {% endfor %}
    </div>

    {% if members|length > 1 %}
        <div class="text-center">
            <span class="resultats-nombre">
                {{ 'directory.count.member'|transchoice(members|length) }}<br />
                {{ 'directory.count.new_member'|transchoice(members|length - membersViewed|length) }}
            </span>
            <div class="clearfix"></div>
        </div>
    {% endif %}

</div>
