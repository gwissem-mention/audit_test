{% extends 'HopitalNumeriqueCommunautePratiqueBundle::layout.html.twig' %}

{% trans_default_domain 'cdpNews' %}

{% import '@HopitalNumeriqueCommunautePratique/selected_domain_selector.html.twig' as selectedDomainSelector %}

{% block title_communaute_pratique %}Actualit√©s{% endblock %}

{% block communaute_pratique_actions %}
    {{ selectedDomainSelector.selector(availableDomains, selectedDomain) }}
    {{ parent() }}
{% endblock %}

{% block body_communaute_pratique %}
    <div class="row">
        <div class="col-md-3">
            <div class="well">
                <h2>{{ 'news.brick.chat_room.title'|trans }}</h2>
                <ul>
                    <li>{{ 'news.brick.chat_room.topic_count'|transchoice(0) }}</li>
                    <li>{{ 'news.brick.chat_room.message_count'|transchoice(0) }}</li>
                </ul>
            </div>
        </div>
        <div class="col-md-3">
            <div class="well">
                <h2>{{ 'news.brick.help_groups.title'|trans }}</h2>
                <ul>
                    <li>{{ 'news.brick.help_groups.group_count'|transchoice(runningGroupCount) }}</li>
                    <li>{{ 'news.brick.help_groups.contributor_count'|transchoice(contributorsCount) }}</li>
                    <li>{{ 'news.brick.help_groups.message_count'|transchoice(0) }}</li>
                    <li>{{ 'news.brick.help_groups.file_count'|transchoice(0) }}</li>
                </ul>
            </div>
        </div>
        <div class="col-md-3">
            <div class="well">
                <h2>{{ 'news.brick.community.title'|trans }}</h2>
                <ul>
                    <li>{{ 'news.brick.community.member_count'|transchoice(cdpUserCount) }}</li>
                    <li>{{ 'news.brick.community.organization_count'|transchoice(cdpOrganizationCount) }}</li>
                </ul>
            </div>
        </div>
        <div class="col-md-3">
            <div class="well">
                {% if app.user is null %}
                    {{ 'news.brick.my_groups.not_logged'|trans|nl2br }}
                {% elseif app.user.inscritCommunautePratique == false %}
                    {{ 'news.brick.my_groups.not_member'|trans|nl2br }}
                {% else %}
                    <h2>{{ 'news.brick.my_groups.title'|trans|nl2br }}</h2>

                    {% if userRecentGroups|length > 0 %}
                        <ul>
                            {% for group in userRecentGroups %}
                                <li>{{ group.titre }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        {{ 'news.brick.my_groups.list.empty'|trans }}

                        <hr>

                        <a href="#" class="btn btn-primary btn-sm btn-block" title="{{ 'news.brick.my_groups.list.link.title'|trans|e }}">
                            {{ 'news.brick.my_groups.list.link.text'|trans }}
                        </a>
                    {% endif %}

                {% endif %}
            </div>
        </div>
    </div>

    <div class="well">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus, aspernatur ex illo molestiae numquam quas tempore totam unde voluptas voluptatibus? Adipisci delectus, fugit iste nam perferendis repudiandae velit vero voluptates.
    </div>

{% endblock body_communaute_pratique %}

