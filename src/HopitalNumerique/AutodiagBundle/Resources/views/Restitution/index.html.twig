{% extends 'HopitalNumeriqueAutodiagBundle::layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets output="compiled/hopitalnumerique-autodiag-front.css" filter="cssrewrite, ?yui_css"
        'bundles/hopitalnumeriqueautodiag/css/restitution.css'
    %}
    <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock stylesheets %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts output="compiled/hopitalnumerique-autodiag-restitution.js"
        '@highcharts_js'
    %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block body %}
    <div id="restitution">

        <ul class="nav nav-tabs" role="tablist">
        {% for category in restitution.categories %}
            <li role="presentation" class="{{ loop.first ? 'active' : '' }}">
                <a href="#{{ category.id }}" aria-controls="home" role="tab" data-toggle="tab">
                    {{ category.label }}
                </a>
            </li>
        {% endfor %}
        </ul>

        <div class="tab-content">
            {% for category in restitution.categories %}
                <div role="tabpanel" class="tab-pane category {{ loop.first ? 'active' : '' }}" id="{{ category.id }}">
                    <p>
                        {{ category.description }}
                    </p>
                    {% for item in category.items %}
                        <div class="item">
                            {% include ("@HopitalNumeriqueAutodiag/Restitution/item/_" ~ item.type ~ ".html.twig") with {
                                'restitution': item,
                                'result': result[item.id]
                            } %}
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
    </div>

{% endblock %}
