imports:
    - { resource: 'services/manager.yml' }
    - { resource: 'services/form.yml' }

services:
    hopitalnumerique_reference.grid.reference:
        class: 'HopitalNumerique\ReferenceBundle\Grid\ReferenceGrid'
        arguments: ["@service_container"]

    hopitalnumerique.twig.ref_extension:
        class: HopitalNumerique\ReferenceBundle\Twig\ReferenceExtension
        arguments : ["@hopitalnumerique_reference.manager.reference"]
        tags:
            - { name: twig.extension }

    hopitalnumerique_reference.dependency_injection.reference.tree:
        class: 'HopitalNumerique\ReferenceBundle\DependencyInjection\Reference\Tree'
        arguments: ['@hopitalnumerique_reference.manager.reference']

    hopitalnumerique_reference.doctrine.reference_listener:
        class: 'HopitalNumerique\ReferenceBundle\Doctrine\ReferenceListener'
        tags:
            - { name: 'doctrine.event_listener', event: 'prePersist' }
            - { name: 'doctrine.event_listener', event: 'preUpdate' }
