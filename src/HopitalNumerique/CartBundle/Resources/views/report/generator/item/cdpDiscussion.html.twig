{% trans_default_domain 'cart' %}

<h2>
    <small>{{ 'item.object_type.cdp_discussion'|trans }}</small>
    {{ item.title }}

    <span class="date">
        {{ 'generator.cdp_discussion.creation_date'|trans }} {{ item.createdAt|date('d/m/Y') }}
    </span>
</h2>

{% if constant('HopitalNumerique\\CartBundle\\Enum\\ReportColumnsEnum::CONTENT_COLUMN') in report.columns %}
    <fieldset>
        <legend>{{ 'generator.cdp_discussion.messages'|trans }}</legend>

        {% for message in item.messages %}
            <p>
                {{ message.user.prenomNom }} ({{ message.createdAt|localizeddate('short', 'none') }}<br />
                {{ message.content|raw }}
            </p>
        {% endfor %}

    </fieldset>
{% endif %}

{{ include('@HopitalNumeriqueCart/report/generator/item/partials/references.html.twig') }}
