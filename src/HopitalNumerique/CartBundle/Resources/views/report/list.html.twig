{% trans_default_domain 'cart' %}

<table class="table report-list">
    <caption>
        <h2>{{ 'list.title'|trans }}</h2>
    </caption>
    <thead>
    <tr>
        <th>{{ 'list.header.name'|trans }}</th>
        <th>{{ 'list.header.createdAt'|trans }}</th>
        <th>{{ 'list.header.updatedAt'|trans }}</th>
        <th>{{ 'list.header.itemsCount'|trans }}</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    {% for report in reports %}
        <tr class="report-list-line" data-report-id="{{ report.id }}">
            <td class="report-list-line-title">
                <a href="{{ path('hopital_numerique_cart_report_item_get', {'report': report.id}) }}" class="report-details">
                    {{ report.name }}
                </a>
            </td>
            <td data-order="{{ report.createdAt.timestamp }}">{{ report.createdAt|date('d/m/Y') }}</td>
            <td data-order="{{ report.updatedAt.timestamp }}">{{ report.updatedAt|date('d/m/Y') }}</td>
            <td>{{ report.items|length }}</td>
            <td class="text-right">
                <div class="btn-group">
                    {% spaceless %}
                        <a
                            href="{{ path('hopital_numerique_cart_report_factory_get', {'report': report.id}) }}"
                            data-add-do-report-uri="{{ path('hopital_numerique_cart_report_item_add', {'report': report.id}) }}"
                            class="btn btn-primary btn-xs report-edit"
                            title="{{ 'list.actions.edit.title'|trans|e }}"
                        >
                            <i class="fa fa-pencil"></i>
                        </a>
                        <a
                            href="{{ path('hopital_numerique_cart_report_download', {'report': report.id}) }}"
                            class="btn btn-success btn-xs"
                            title="{{ 'list.actions.download.title'|trans|e }}"
                        >
                            <i class="fa fa-download"></i>
                        </a>
                        <a
                            href="{{ path('hopital_numerique_cart_report_send', {'report': report.id}) }}"
                            class="btn btn-default btn-xs report-send"
                            title="{{ 'list.actions.send.title'|trans|e }}"
                        >
                            <i class="fa fa-envelope-o"></i>
                        </a>
                        <a
                            href="{{ path('hopital_numerique_cart_report_get_shares', {'report': report.id}) }}"
                            class="btn btn-info btn-xs report-share"
                            title="{{ 'list.actions.share.title'|trans|e }}"
                        >
                            <i class="fa fa-share"></i>
                        </a>
                        <a
                            href="{{ path('hopital_numerique_cart_report_remove', {'report': report.id}) }}"
                            class="btn btn-danger btn-xs report-remove"
                            data-confirm="{{ 'list.actions.remove.confirm'|trans }}"
                            title="{{ 'list.actions.remove.title'|trans|e }}"
                        >
                            <i class="fa fa-trash-o"></i>
                        </a>
                    {% endspaceless %}
                </div>
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="5">
                {{ 'list.empty'|trans }}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>


<div id="report-modal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content"></div>
    </div>
</div>

{{ include('@HopitalNumeriqueCart/report/partials/shareReportModalPrototype.html.twig') }}
{{ include('@HopitalNumeriqueCart/report/partials/sendReportModalPrototype.html.twig') }}

{{ include('@HopitalNumeriqueCart/report/partials/detailsModalPrototype.html.twig') }}
